(this.webpackJsonpdjuka6_kp_clone=this.webpackJsonpdjuka6_kp_clone||[]).push([[0],{141:function(e,t,a){e.exports=a(191)},146:function(e,t,a){},147:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(10),o=a.n(r),i=(a(146),a(15)),s=a(11),c=a(18),u=a(17),m=a(38),d=a(46),p=(a(147),a(117)),h=a(219),g=a(220),E=a(216),f=a(232),b=a(234),y=a(229),v=a(55),O=a.n(v),S=a(65),I=a.n(S),w=a(82),C=a.n(w),T=a(116),j=a.n(T),x=a(115),k=a.n(x),R={layout:{marginTop:"30px"},Img:{minwidth:"260px",minHeight:"220px",maxwidth:"260px",maxHeight:"220px"},span:{marginBottom:"7px"}},N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={show:!1,setShow:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.show,n=(t.setShow,this.props.oglas),r=n.naslov,o=n.body,i=n.datum,s=n.imgUrl,c=n.korisnik,u=n.cena;return O.a.extend(I.a),l.a.createElement("div",null,l.a.createElement(E.a,null,l.a.createElement(f.a,{size:"lg",style:R.layout},l.a.createElement(f.a.Img,{style:R.Img,variant:"top",src:s}),l.a.createElement(f.a.Body,null,l.a.createElement(f.a.Title,null,r),l.a.createElement(b.a,{variant:"outlined-primary",onClick:function(){e.setState({show:!0})}}," ",l.a.createElement(C.a,null)," ")),l.a.createElement(f.a.Footer,null,l.a.createElement("small",{className:"text-muted"},O()(i).fromNow())))),l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{show:a,onHide:function(){e.setState({show:!1})}},l.a.createElement(y.a.Header,{closeButton:!0},l.a.createElement(y.a.Title,null,l.a.createElement(k.a,{style:R.span,fontSize:"large"})," ",l.a.createElement("span",null,c))),l.a.createElement(y.a.Body,null,o,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(j.a,null)," Cena: ",l.a.createElement("b",null,u)),l.a.createElement(y.a.Footer,null))))}}]),a}(n.Component),U=a(21),_=a.n(U),A={kolone:{}},L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={oglasi:[],show:!1,setShow:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.a.get("/PreuzmiOglase").then((function(t){e.setState({oglasi:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.oglasi?this.state.oglasi.map((function(e){return l.a.createElement(p.a,{key:e.oglasId,sm:3,style:A.kolone,offset:2},l.a.createElement(N,{key:e.oglasId,oglas:e}))})):l.a.createElement("p",null,"Loading...");return l.a.createElement(h.a,null,l.a.createElement(g.a,null,e))}}]),a}(n.Component),D=a(16),B=a(230),F=a(223),G=a(224),P=a(222),W=a(228),z=a(23),H=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),_.a.defaults.headers.common.Authorization=t},V=function(e,t){_.a.get("/user/".concat(e)).then((function(e){t(e.data.userData[0])})).catch((function(e){console.log(e)}))},q={progress:{position:"absolute"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10}},J=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(D.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t={email:n.state.email,password:n.state.password};n.props.getUser(t,n.props.history)},n.state={email:"",password:"",loading:!1,errors:{}},n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&(this.setState({errors:e.UI.errors}),console.log(this.state.errors))}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.UI.loading),a=this.state.errors;return l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement(p.a,null),l.a.createElement(p.a,null,l.a.createElement("br",null),l.a.createElement(B.a,{noValidate:!0,onSubmit:this.handleSubmit},l.a.createElement(B.a.Group,{controlId:"formBasicEmail"},l.a.createElement(W.a,{id:"email",name:"email",type:"email",label:"Email",style:q.textField,helperText:a.email,error:!!a.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(B.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(B.a.Group,{controlId:"formBasicPassword"},l.a.createElement(W.a,{id:"password",name:"password",type:"password",label:"Password",style:q.textField,helperText:a.password,error:!!a.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0})),a.general&&l.a.createElement(P.a,{variant:"body2",style:q.customError},a.general),l.a.createElement(F.a,{type:"submit",variant:"contained",color:"primary",style:q.button,disabled:t},"Login",t&&l.a.createElement(G.a,{size:30,style:q.progress})))),l.a.createElement(p.a,null))))}}]),a}(n.Component),M=Object(z.b)((function(e){return{UI:e.UI}}),{getUser:function(e,t){return function(a){a({type:"LOADING_UI"}),_.a.post("/login",e).then((function(n){H(n.data.token),a({type:"SET_AUTHENTICATED"}),V(e.email,(function(e){console.log(e),a({type:"SET_USER",payload:e}),a({type:"CLEAR_ERRORS"}),t.push("/")}))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(J),X=a(44),K={errors:[],loading:!1},$={progress:{position:"absolute"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10}},Z=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(D.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t={email:n.state.email,password:n.state.password,confirmPassword:n.state.confirmPassword,handle:n.state.handle,location:n.state.location,phoneNumber:n.state.phoneNumber};console.log(t),n.props.signupUser(t,n.props.history)},n.state={email:"",password:"",confirmPassword:"",handle:"",location:"",phoneNumber:"",loading:!1,errors:{}},n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&(this.setState({errors:e.UI.errors}),console.log(this.state.errors))}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.UI.loading),a=this.state.errors;return l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement(p.a,null),l.a.createElement(p.a,null,l.a.createElement("br",null),l.a.createElement(B.a,{noValidate:!0,onSubmit:this.handleSubmit},l.a.createElement(B.a.Group,{controlId:"formBasicEmail"},l.a.createElement(W.a,{id:"email",name:"email",type:"email",label:"Email",style:$.textField,helperText:a.email,error:!!a.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(B.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(B.a.Group,{controlId:"formBasicPassword"},l.a.createElement(W.a,{id:"password",name:"password",type:"password",label:"Password",style:$.textField,helperText:a.password,error:!!a.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0})),l.a.createElement(B.a.Group,{controlId:"formBasicPassword"},l.a.createElement(W.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confrim password",style:$.textField,helperText:a.confirmPassword,error:!!a.confirmPassword,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0})),l.a.createElement(B.a.Group,{controlId:"formBasicEmail"},l.a.createElement(W.a,{id:"handle",name:"handle",type:"text",label:"Username",style:$.textField,helperText:a.handle,error:!!a.handle,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(B.a.Text,{className:"text-muted"},"Username must be unique.")),l.a.createElement(B.a.Group,{controlId:"formBasicEmail"},l.a.createElement(W.a,{id:"location",name:"location",type:"text",label:"Location",style:$.textField,helperText:a.location,error:!!a.location,value:this.state.location,onChange:this.handleChange,fullWidth:!0})),l.a.createElement(B.a.Group,{controlId:"formBasicEmail"},l.a.createElement(W.a,{id:"phoneNumber",name:"phoneNumber",type:"text",label:"Phone number:",style:$.textField,helperText:a.phoneNumber,error:!!a.phoneNumber,value:this.state.phoneNumber,onChange:this.handleChange,fullWidth:!0})),a.general&&l.a.createElement(P.a,{variant:"body2",style:$.customError},a.general),l.a.createElement(F.a,{type:"submit",variant:"contained",color:"primary",style:$.button,disabled:t},"Sign up",t&&l.a.createElement(G.a,{size:30,style:$.progress})))),l.a.createElement(p.a,null)))}}]),a}(n.Component),Q=Object(z.b)((function(e){return{UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),_.a.post("/signup",e).then((function(n){H(n.data.token),a({type:"SET_AUTHENTICATED"});var l={};l.handle=e.handle,l.email=e.email,l.createdAt=e.createdAt,a({type:"SET_USER",payload:l}),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(Z),Y={progress:{position:"absolute"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10}},ee=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(D.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={naslov:e.state.naslov,body:e.state.body,cena:e.state.cena};console.log(a),e.props.postaviOglase(a,e.props.history)},e.state={body:"",naslov:"",cena:"0$",loading:!1,errors:{}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.errors,a=e.loading;return l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement(p.a,null),l.a.createElement(p.a,null,l.a.createElement("br",null),l.a.createElement(B.a,{noValidate:!0,onSubmit:this.handleSubmit},l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Naslov"),l.a.createElement(W.a,{id:"naslov",name:"naslov",type:"text",label:"Naslov oglasa",style:Y.textField,helperText:t.naslov,error:!!t.naslov,value:this.state.naslov,onChange:this.handleChange,fullWidth:!0})),l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Nesto vise o oglasu"),l.a.createElement(W.a,{id:"outlined-multiline-static",name:"body",type:"text",label:"Nesto vise:",style:Y.textField,multiline:!0,rows:4,helperText:t.body,error:!!t.body,value:this.state.body,onChange:this.handleChange,fullWidth:!0})),l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Cena"),l.a.createElement(W.a,{id:"cena",name:"cena",type:"text",label:"Cena oglasa:",style:Y.textField,helperText:t.cena,error:!!t.cena,value:this.state.cena,onChange:this.handleChange,fullWidth:!0})),t.general&&l.a.createElement(P.a,{variant:"body2",style:Y.customError},t.general),l.a.createElement(F.a,{type:"submit",variant:"contained",color:"primary",style:Y.button,disabled:a},"Postavi"),a&&l.a.createElement(G.a,{size:30,style:Y.progress}))),l.a.createElement(p.a,null))))}}]),a}(n.Component),te=Object(z.b)((function(e){return{UI:e.UI,oglas:e.oglas}}),{postaviOglase:function(e,t){return function(a){a({type:"LOADING_UI"}),localStorage.getItem("FBIdToken")&&(_.a.defaults.headers.common.Authorization=localStorage.getItem("FBIdToken")),_.a.post("/oglas",e).then((function(e){console.log("GDESTE"),a({type:"SET_OGLAS",payload:e.data}),a({type:"CLEAR_ERRORS"}),t.push("/oglasSlika")})).catch((function(e){403==e.response.status&&(a({type:"SET_UNAUTHENTICATED"}),alert("Token expired. Please login again!"),t.push("/login")),console.log("PUCACI DIVLJACI"),a({type:"SET_ERRORS",payload:e.response.data})}))}}})(ee),ae=a(50),ne=a(119),le={authenticated:!1},re={item:[]},oe={user:[]};var ie=[ne.a],se=Object(ae.c)({authenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(X.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return{authenticated:!1};default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return{loading:!1,errors:t.payload};case"CLEAR_ERRORS":return{initialState:K};case"LOADING_UI":return Object(X.a)({},e,{loading:!0});default:return{loading:!1}}},oglas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OGLAS":return{item:t.payload};default:return Object(X.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{user:t.payload};case"CLEAR_USER":return{initialState:oe};default:return Object(X.a)({},e)}}}),ce=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),ue=Object(ae.e)(se,ce,Object(ae.d)(ae.a.apply(void 0,ie),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));ue.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(ue.getState())}));var me=ue,de=a(231),pe=a(122),he=a.n(pe),ge=a(121),Ee=a.n(ge),fe=a(75),be=a.n(fe),ye={marginLeft:"auto",signup:{marginRight:"10%"},ikonica:{marginRight:"2px"}},ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{bg:"light",expand:"lg",sticky:"top"},l.a.createElement(de.a.Brand,null,l.a.createElement(F.a,{variant:"outlined",component:m.b,to:"/"},l.a.createElement(be.a,null)," OglasiApp")),l.a.createElement(de.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(de.a.Collapse,{id:"basic-navbar-nav "},l.a.createElement(F.a,{style:ye.signup,component:m.b,to:"/signup"},l.a.createElement(Ee.a,null)," Sign up"),l.a.createElement(F.a,{style:ye,component:m.b,to:"/login"},l.a.createElement(he.a,{style:ye.ikonica})," Log in"))))}}]),a}(n.Component),Oe=a(123),Se=a.n(Oe),Ie=a(126),we=a.n(Ie),Ce=a(124),Te=a.n(Ce),je=a(125),xe=a.n(je),ke=a(2),Re=a.n(ke),Ne={marginLeft:"auto",signup:{marginRight:"10%"}},Ue=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{bg:"light",expand:"lg",sticky:"top"},l.a.createElement(de.a.Brand,null,l.a.createElement(F.a,{component:m.b,to:"/"},l.a.createElement(be.a,null)," OglasiApp")),l.a.createElement(de.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(de.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(F.a,{component:m.b,to:"/oglasiKorisnika"},l.a.createElement(Se.a,null)," Oglasi"),l.a.createElement(F.a,{component:m.b,to:"/postaviOglas"},l.a.createElement(Te.a,null)," Postavi oglas"),l.a.createElement(xe.a,null)," ",this.props.user.user.handle,l.a.createElement(F.a,{style:Ne,onClick:function(){e.props.logoutUser()}},l.a.createElement(we.a,null)," Log out"))))}}]),a}(n.Component);de.a.propTypes={logoutUser:Re.a.func,authenticated:Re.a.object,user:Re.a.object};var _e=Object(z.b)((function(e){return{authenticated:e.authenticated,user:e.user}}),{logoutUser:function(){return function(e){localStorage.removeItem("FBIdToken"),delete _.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})}}})(Ue),Ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=l.a.createElement(_e,null),t=l.a.createElement(ve,null);return this.props.authenticated?e:t}}]),a}(n.Component),Le=Object(z.b)((function(e){return{authenticated:e.authenticated.authenticated}}),null)(Ae),De=a(25),Be=a(233),Fe=a(225),Ge=function(e){var t=e.children,a=e.onClick,n=e.tip,r=e.btnClassName,o=e.tipClassName;return l.a.createElement(Be.a,{title:n,className:o,placement:"top"},l.a.createElement(Fe.a,{onClick:a,className:r},t))},Pe=a(62),We=a.n(Pe),ze=a(128),He=a.n(ze),Ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleImageChange=function(e){var t=e.target.files[0],a=new FormData;a.append("image",t,t.name),console.log(a),n.props.uploadImage(a,n.props.ID,n.props.history)},n.handleEditPicture=function(){document.getElementById("imageInput").click()},n.handleImageChange=n.handleImageChange.bind(Object(De.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){this.props.oglas.item.imgUrl;return l.a.createElement("div",{className:"image-wrapper"},l.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange}),l.a.createElement(He.a,null),l.a.createElement(Ge,{tip:"Postavi sliku za oglas",onClick:this.handleEditPicture,btnClassName:"button"},l.a.createElement(We.a,{color:"primary"})))}}]),a}(n.Component),qe=Object(z.b)((function(e){return{ID:e.oglas.item.id,oglas:e.oglas}}),{uploadImage:function(e,t,a){return function(n){n({type:"LOADING_UI"}),console.log(t),_.a.post("/oglas/image/".concat(t),e).then((function(){n({type:"CLEAR_ERRORS"}),a.push("/")})).catch((function(e){return console.log(e)}))}}})(Ve),Je=a(129),Me=a.n(Je),Xe=a(226),Ke={layout:{marginTop:"30px"},Img:{minwidth:"260px",minHeight:"220px",maxwidth:"260px",maxHeight:"220px"},media:{height:"140px",width:"195px"},progress:{position:"absolute",marginLeft:-50},button:{marginTop:20,marginLeft:200,position:"relative"}},$e=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={body:"",naslov:"",cena:"",show:!1,setShow:!1,errors:[],loading:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=function(t){e.setState(Object(D.a)({},t.target.name,t.target.value))},a=this.state,n=a.show,r=(a.setShow,this.props.oglas),o=r.naslov,i=r.body,s=r.datum,c=r.imgUrl,u=r.korisnik,m=r.cena,d=r.oglasId,p=this.state,h=(p.errors,p.loading);return O.a.extend(I.a),l.a.createElement("div",null,l.a.createElement(E.a,null,l.a.createElement(f.a,{size:"lg",style:Ke.layout},l.a.createElement(f.a.Img,{style:Ke.Img,variant:"top",src:c}),l.a.createElement(f.a.Body,null,l.a.createElement(f.a.Title,null,o),l.a.createElement(b.a,{variant:"outlined-primary",onClick:function(){e.setState({show:!0})}}," ",l.a.createElement(We.a,null)," "),l.a.createElement(b.a,{variant:"outlined-primary",onClick:function(){_.a.delete("/oglas/".concat(d)).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))}}," ",l.a.createElement(Me.a,null)," ")),l.a.createElement(f.a.Footer,null,l.a.createElement("small",{className:"text-muted"},O()(s).fromNow())))),l.a.createElement(y.a,{show:n,onHide:function(){e.setState({show:!1})}},l.a.createElement(y.a.Header,{closeButton:!0},l.a.createElement(y.a.Title,null,u)),l.a.createElement(y.a.Body,null,l.a.createElement(B.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),e.setState({loading:!0});var a={};""==e.state.naslov?a.naslov=e.props.oglas.naslov:a.naslov=e.state.naslov,""==e.state.body?a.body=e.props.oglas.body:a.body=e.state.body,""==e.state.cena?a.cena=e.props.oglas.cena:a.cena=e.state.cena,console.log(a),e.props.updateOglase(a,d,e.props.history)}},l.a.createElement(B.a.Group,null,l.a.createElement(W.a,{required:!0,name:"naslov",id:"standard-required",label:"Naslov",defaultValue:o,fullWidth:!0,onChange:t}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(B.a.Group,null,l.a.createElement(W.a,{required:!0,name:"body",id:"standard-required",label:"Body:",defaultValue:i,fullWidth:!0,onChange:t})),l.a.createElement("br",null),l.a.createElement(B.a.Group,null,l.a.createElement(W.a,{required:!0,name:"cena",id:"standard-required",label:"Cena:",defaultValue:m,onChange:t,fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Xe.a,{style:Ke.media,image:c,title:"Fotografija oglasa"}),l.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(t){var a=t.target.files[0],n=new FormData;n.append("image",a,a.name),console.log(n),e.props.updateImage(n,d,e.props.history)}}),l.a.createElement(Ge,{tip:"Postavi sliku za oglas",onClick:function(){document.getElementById("imageInput").click()},btnClassName:"button"},l.a.createElement(We.a,{color:"primary"})),l.a.createElement("br",null),l.a.createElement(b.a,{type:"submit",color:"primary",style:Ke.button,disabled:h},"IZMENI"),h&&l.a.createElement(G.a,{size:30,style:Ke.progress}))),l.a.createElement(y.a.Footer,null)))}}]),a}(n.Component),Ze=Object(z.b)((function(e){return{UI:e.UI}}),{updateImage:function(e,t,a){return function(a){a({type:"LOADING_UI"}),console.log(t),_.a.post("/oglas/image/".concat(t),e).then((function(){a({type:"CLEAR_ERRORS"})})).catch((function(e){return console.log(e)}))}},updateOglase:function(e,t,a){return function(a){a({type:"LOADING_UI"}),_.a.post("/oglas/".concat(t),e).then((function(e){a({type:"SET_OGLAS",payload:e.data}),a({type:"CLEAR_ERRORS"}),window.location.reload()})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})($e),Qe={kolone:{}},Ye=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={oglasi:[],show:!1,setShow:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("FBIdToken")&&(_.a.defaults.headers.common.Authorization=localStorage.getItem("FBIdToken")),_.a.get("/oglasi/".concat(this.props.user.user.handle)).then((function(t){e.setState({oglasi:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.oglasi?this.state.oglasi.map((function(e){return l.a.createElement(p.a,{key:e.oglasId,sm:3,style:Qe.kolone,offset:2},l.a.createElement(Ze,{key:e.oglasId,oglas:e}))})):l.a.createElement("p",null,"Loading...");return l.a.createElement(h.a,null,l.a.createElement(g.a,null,e))}}]),a}(n.Component),et=Object(z.b)((function(e){return{user:e.user,oglas:e.oglas}}),null)(Ye),tt=a(227),at=a(130),nt=a.n(at)()({palette:{primary:{light:"#33c9dc",main:"#007bff",dark:"#69A4FF",contrastText:"#fff"},secondary:{light:"#e8eaf7",main:"#e8eaf7",dark:"#b22a00",contrastText:"#33c9dc"}}}),lt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(z.a,{store:me},l.a.createElement(tt.a,{theme:nt},l.a.createElement(m.a,null,l.a.createElement(Le,null),l.a.createElement("div",{className:"App"},l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",component:L}),l.a.createElement(d.a,{exact:!0,path:"/signup",component:Q}),l.a.createElement(d.a,{exact:!0,path:"/login",component:M}),l.a.createElement(d.a,{exact:!0,path:"/postaviOglas",component:te}),l.a.createElement(d.a,{exact:!0,path:"/oglasSlika",component:qe}),l.a.createElement(d.a,{exact:!0,path:"/oglasiKorisnika",component:et}))))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(190);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.4b946ad4.chunk.js.map